# DistributionOfAccountingIndicators
## Приложение «Распределение учётных показателей по иерархической структуре»

Тестовая версия 1.0

### Проблематика

В жилом районе есть некоторое количество зданий: многоквартирных домов, различных предприятий и учреждений. В каждом здании организован учёт потребляемых ресурсов (электричество, водоснабжение, отопление) по нему в целом. Внутри здания может быть организован персональный учёт по подъездам, квартирам, коммунальным комнатам, (суб-)арендаторам и т.п. с произвольным уровнем вложенности.

Суммарные данные по приборам учёта отдельно взятого уровня могут не сходиться с показаниями прибора учёта по их уровню организации в целом. Приложение обеспечивает сбалансированное распределение потреблённого объема путём внесения поправочных данных по определённому ниже алгоритму.

### Входные данные

Древовидная структура, каждый узел которой содержит следующую информацию:

· Номер узла ( положительное целое число )

· Потребленный объем ( положительное число )

· Флаг подключения (+ / -). Говорит, с каким знаком учитывать объем в родительском узле.

· Распределенный объем с родительского узла.

· Иерархические связи между узлами учёта.

                                        +-----+
                                        |  1  | +1000
                                        +--+--+
                                           |
        +---------------------+------------+------------+-----------------------+
        |                     |                         |                       |
     +--+--+               +--+--+                   +--+--+                 +--+--+
     | 1.1 | +300          | 1.2 | +200              | 1.3 | -70             | 1.4 | + 300
     +-----+ +101,25       +--+--+ +67,5             +-----+                 +--+--+ +101,25
                              |                                                 |
                 +------------+------------+                     +--------------+--------------+
                 |                         |                     |                             |
             +---+---+                 +---+---+             +---+---+                     +---+---+
             | 1.2.1 | +150            | 1.2.2 | +50         | 1.4.1 | +201                | 1.4.2 | +33
             +-------+                 +-------+             +---+---+                     +-------+
                                                                 |
                                            +--------------------+--------------------+
                                            |                    |                    |
                                       +----+----+          +----+----+          +----+----+
                                       | 1.4.1.1 | +77      | 1.4.1.2 | +46      | 1.4.1.3 | +80
                                       +---------+          +---------+          +---------+
### Функционал приложения

Приложение позволяет:

1) Вычислять разницу между общим объемом потребления на узле (объем потребления узла +распределенный объем с родительского узла ) и суммой объема на дочерних узлах. Если на дочернем узле стоит флаг «+», то объем прибавляется, если «-»  то  вычитается. Результат округляется до двух знаков. Остаток от округления помещается в узел с наибольшим потреблением.
2) Разницу из п. 1) распределяется между дочерними узлами, в которых флагом имеет значение «+», пропорционально их объему. Перебираются все листовые вершины с информацией об узле и распределенном объеме на узел.
3) Все классы приложения покрыты тест кейсами, которые демонстрируют работу алгоритмов. 
